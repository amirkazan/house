# Используем официальный образ Golang
FROM golang:1.14

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем go.mod и go.sum для эффективного кэширования зависимостей
COPY go.mod .
COPY go.sum .

# Загружаем зависимости
RUN go mod download

# Копируем все файлы проекта внутрь контейнера
COPY . .

# Собираем бинарный файл проекта
RUN go build -o main .

# Определяем команду, которая будет запущена при запуске контейнера
CMD ["./main"]
